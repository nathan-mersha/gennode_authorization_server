<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:51,&quot;tests&quot;:115,&quot;passes&quot;:113,&quot;pending&quot;:0,&quot;failures&quot;:2,&quot;start&quot;:&quot;2019-12-06T13:56:29.561Z&quot;,&quot;end&quot;:&quot;2019-12-06T13:56:34.233Z&quot;,&quot;duration&quot;:4672,&quot;testsRegistered&quot;:115,&quot;passPercent&quot;:98.3,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false,&quot;passPercentClass&quot;:&quot;success&quot;,&quot;pendingPercentClass&quot;:&quot;danger&quot;},&quot;suites&quot;:{&quot;uuid&quot;:&quot;afdddc43-87ad-4707-bb55-2797eb2651b5&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;99d9c10d-17b3-4a46-9c89-2d6aedf6c4c1&quot;,&quot;title&quot;:&quot;Token&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;eb807873-980e-4e81-bb1f-3e32d78814ad&quot;,&quot;title&quot;:&quot;Create&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should fail to create token (Validation error)&quot;,&quot;fullTitle&quot;:&quot;Token Create Should fail to create token (Validation error)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:70,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.token.create(),&#x27;post&#x27;,dummyData.token.create.validationError,400,function (err,res) {\n    let body = res.body;\n    isErrorResponse(body);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;9efbb8fe-9897-43db-a8a8-c3aabac78461&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should successfully create token&quot;,&quot;fullTitle&quot;:&quot;Token Create Should successfully create token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:39,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.token.create(),&#x27;post&#x27;,dummyData.token.create.success,201,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isToken(body, true);\n    dummyData.token.get.success = body;\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;11dc6437-0956-4840-9e22-e646d1c1620c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9efbb8fe-9897-43db-a8a8-c3aabac78461&quot;,&quot;11dc6437-0956-4840-9e22-e646d1c1620c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:109,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:15000},{&quot;uuid&quot;:&quot;be52889e-8603-44ea-960f-03ba3ebf4906&quot;,&quot;title&quot;:&quot;Validate&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Token Validate \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:73,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;console.log(\&quot;Generating dummy data for tests.\&quot;);\nasync.waterfall([\n    requestToken,\n    updateAnyRole, // route to be accessed by all\n    updateAnyACM,\n    createUserRole,\n    createUserACM\n],function () {\n    done();\n});\n/**\n * @name            - Request token\n * @description     - Requests a new token by userId.\n * @param callback  - Callback function (error)\n */\nfunction requestToken(callback) {\n    sendRequest(url.token.create(),&#x27;post&#x27;,{userId : userId},201,function (err,res) {\n        validateToken.allowedToBeAccessedByAny.token = res.body.token;\n        validateToken.allowedToBeAccessedByNone.token = res.body.token;\n        validateToken.allowedToPerformPUTByAny.token = res.body.token;\n        validateToken.deniedToPerformDELETEByAny.token = res.body.token;\n        validateToken.allowedToPerformPUTByUser.token = res.body.token;\n        validateToken.allowedToPerformPUTByUserOnUserRoute.token = res.body.token;\n        validateToken.allowedToPerformMethodDeniedRoute.token = res.body.token;\n        validateToken.deniedMethodOnObject.token = res.body.token;\n        validateToken.allowedToAccessRoute.token = res.body.token;\n        validateToken.notAllowedToAccessRoute.token = res.body.token;\n        validateToken.notAllowedToAccessMethodButRoute.token = res.body.token;\n        callback(null);\n    });\n}\n/**\n * @name            - Update any role\n * @description     - Updates role type &#x27;any&#x27; to have access for the routes accessed by all\n * @param callback  - Callback function (error)\n */\nfunction updateAnyRole(callback) {\n    let updateData  = {accessRoutes : [\n            { route : route.accessedByAll, method : \&quot;POST\&quot;},\n            { route : route.accessedByAll, method : \&quot;PUT\&quot;},\n            { route : route.accessedByAll, method : \&quot;GET\&quot;}\n            ]};\n    sendRequest(url.role.update(\&quot;name=any\&quot;),&#x27;put&#x27;,updateData,200,function (err,res) {\n        let body = res.body;\n        if(body.ok){callback(null);}\n    });\n}\n/**\n * @name            - Update any acm\n * @description     - Updates any acm role\n * @param callback  - Callback function (error)\n */\nfunction updateAnyACM(callback) {\n    let updateData = {\n        accessControl : {\n            read    : [performPUTOnObjectByAny],\n            update  : [performPUTOnObjectByAny]\n        }\n    };\n    sendRequest(url.acm.update(\&quot;subject=any\&quot;),&#x27;put&#x27;,updateData,200,function (err,res) {\n        let body = res.body;\n        if(body.ok){callback(null);}\n    });\n}\n/**\n * @name            - Create user role\n * @description     - Create sample role with test user\n * @param callback  - Callback function (error)\n */\nfunction createUserRole(callback) {\n    let sampleRole = {\n        name            : \&quot;Sample Privilege\&quot;,\n        description     : \&quot;Sample description for the privilege\&quot;,\n        members         : [userId],\n        accessRoutes    : [\n            {route : route.accessedByUser, method : \&quot;PUT\&quot;}\n        ]\n    };\n    sendRequest(url.role.create(),&#x27;post&#x27;,sampleRole,201,function (err,res) {\n        let body = res.body;\n        if(body._id){callback(null);}\n    });\n}\n/**\n * @name            - Create user acm\n * @description     - Creates custom user acm data.\n * @param callback  - Callback function (error)\n */\nfunction createUserACM(callback) {\n    let userACMData = {\n        subject : userId,\n        accessControl : {\n            update : [performPUTOnObjectByUser]\n        }\n    };\n    sendRequest(url.acm.create(),&#x27;post&#x27;,userACMData,200,function (err,res) {\n        let body = res.body;\n        if(body._id){callback(null);}\n    });\n}&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f1fe97e8-0f9d-42c8-8494-34459623e5a8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Token Validate \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Roll back\nasync.waterfall([\n    removedAnyRoleUpdate,\n    removeAnyACMUpdate,\n    removeUserRole,\n    removeUserACM\n],function () {\n    console.log(\&quot;Rollback completed.\&quot;)\n});\nfunction removedAnyRoleUpdate(cb) {\n    let updateData  = {accessRoutes : []};\n    sendRequest(url.role.update(\&quot;name=any\&quot;),&#x27;put&#x27;,updateData,200,function (err,res) {\n        let body = res.body;\n        if(body.ok){cb(null);}\n    });\n}\nfunction removeAnyACMUpdate(cb) {\n    let updateData = {\n        accessControl : {\n            read    : [],\n            update  : []\n        }\n    };\n    sendRequest(url.acm.update(\&quot;subject=any\&quot;),&#x27;put&#x27;,updateData,200,function (err,res) {\n        let body = res.body;\n        if(body.ok){cb(null);}\n    });\n}\nfunction removeUserRole(cb) {\n    let userRoleQuery = \&quot;name=Sample Privilege\&quot;;\n    sendRequest(url.role.remove(userRoleQuery),&#x27;delete&#x27;,null, 200, function (err, res) {\n        if(res.body.ok){cb(null);}\n    });\n}\nfunction removeUserACM(cb) {\n    let userACMQuery = `subject=${userId}`;\n    sendRequest(url.acm.remove(userACMQuery),&#x27;delete&#x27;,null, 200, function (err, res) {\n        if(res.body.ok){cb(null);}\n    });\n}&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;05f833ae-bff8-4ec9-81c8-d42584126646&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should fail to grant access (Body missing required fields)&quot;,&quot;fullTitle&quot;:&quot;Token Validate Should fail to grant access (Body missing required fields)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.token.validate(),&#x27;post&#x27;,validateToken.missingRequiredFields,400,function (err,res) {\n    let body = res.body;\n    expect(body.errorCode).to.equal(errorCodes.SEC.VALIDATION_ERROR.errorCode); // Validation error\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4b8608a7-27fe-404b-87df-95a72ea5a30d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should successfully grant access (Route is allowed to be accessed by anyone)&quot;,&quot;fullTitle&quot;:&quot;Token Validate Should successfully grant access (Route is allowed to be accessed by anyone)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.token.validate(),&#x27;post&#x27;,validateToken.allowedToBeAccessedByAny,200,function (err,res) {\n    let body = res.body;\n    expect(body.message).to.equal(message.ACCESS_GRANTED);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;01a3eaa3-fc35-4196-a114-fbd27772d31b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to grant access (Token has expired)&quot;,&quot;fullTitle&quot;:&quot;Token Validate Should fail to grant access (Token has expired)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2033,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let tokenExpirationTimeCopy = process.env.TOKEN_EXPIRATION_TIME;\nprocess.env.TOKEN_EXPIRATION_TIME = \&quot;1000\&quot;; // Change token expiration time to one second.\nasync.waterfall([\n    createAToken,\n    validateExpToken,\n    rollBackExpirationTime\n],function () {\n    done();\n});\n/**\n * @name            - Create token\n * @description     - Creates a new token for user by 1sec expiration time\n * @param cb        - Callback function (error, response)\n */\nfunction createAToken(cb) {\n    sendRequest(url.token.create(),&#x27;post&#x27;,{userId : userId},201,function (err,res) { // Create token\n        cb(null, res);\n    });\n}\n/**\n * @name            - Validate Exp token\n * @description     - Validation an expired token after 2sec (1 sec safe threshold)\n * @param res       - Token data response object\n * @param cb        - Callback function (error)\n */\nfunction validateExpToken(res, cb) {\n    validateToken.toExpireAfterOneSec.token = res.body.token;\n    setTimeout(function () {\n        sendRequest(url.token.validate(),&#x27;post&#x27;,validateToken.toExpireAfterOneSec,401,function (err,res) {\n            let body = res.body;\n            expect(body.message).to.equal(message.ACCESS_DENIED);\n            cb(null);\n        });\n    },2000);\n}\n/**\n * @name            - Roll back expiration time\n * @description     - Rolls back expiration time to whatever was set on the process env before the test.\n * @param cb        - Callback function (error)\n */\nfunction rollBackExpirationTime(cb) {\n    process.env.TOKEN_EXPIRATION_TIME = tokenExpirationTimeCopy;\n    cb(null);\n}&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;cc354552-21c3-4181-9aa3-c4ac3ea006eb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should successfully grant access (Group &#x27;any&#x27; is allowed to perform operation on object)&quot;,&quot;fullTitle&quot;:&quot;Token Validate Should successfully grant access (Group &#x27;any&#x27; is allowed to perform operation on object)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.token.validate(),&#x27;post&#x27;,validateToken.allowedToPerformPUTByAny,200,function (err,res) {\n    let body = res.body;\n    expect(body.message).to.equal(message.ACCESS_GRANTED);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3f3dde14-cac1-4375-9005-adedce22c1f1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should successfully deny access (Group &#x27;any&#x27; is not allowed to perform operation on object)&quot;,&quot;fullTitle&quot;:&quot;Token Validate Should successfully deny access (Group &#x27;any&#x27; is not allowed to perform operation on object)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.token.validate(),&#x27;post&#x27;,validateToken.deniedToPerformDELETEByAny,200,function (err,res) {\n    let body = res.body;\n    expect(body.message).to.equal(message.ACCESS_DENIED);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;beab2374-6b4d-4935-bada-c851f6c7d519&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should successfully grant access (User is allowed to perform method on object, with all access of route)&quot;,&quot;fullTitle&quot;:&quot;Token Validate Should successfully grant access (User is allowed to perform method on object, with all access of route)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.token.validate(),&#x27;post&#x27;,validateToken.allowedToPerformPUTByUser,200,function (err,res) {\n    let body = res.body;\n    expect(body.message).to.equal(message.ACCESS_GRANTED);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3ae174be-aecf-463b-bd5c-1106fe808af0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should successfully grant access (User is allowed to perform method on object, with only user access route)&quot;,&quot;fullTitle&quot;:&quot;Token Validate Should successfully grant access (User is allowed to perform method on object, with only user access route)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.token.validate(),&#x27;post&#x27;,validateToken.allowedToPerformPUTByUserOnUserRoute,200,function (err,res) {\n                        let body = res.body;\n                        expect(body.message).to.equal(message.ACCESS_GRANTED);\n                        done();\n                    });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0d761d6c-bc3d-4fed-a1b6-5eee24f7efa5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should successfully grant access (User is allowed to access route+method, no object access (RUD) is requested )&quot;,&quot;fullTitle&quot;:&quot;Token Validate Should successfully grant access (User is allowed to access route+method, no object access (RUD) is requested )&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.token.validate(),&#x27;post&#x27;,validateToken.allowedToAccessRoute,200,function (err,res) {\n    let body = res.body;\n    expect(body.message).to.equal(message.ACCESS_GRANTED);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;88c9a3dc-6a41-4003-8d03-f0ea32984be3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to grant access (User is not allowed to access route+method) &quot;,&quot;fullTitle&quot;:&quot;Token Validate Should fail to grant access (User is not allowed to access route+method) &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.token.validate(),&#x27;post&#x27;,validateToken.notAllowedToAccessRoute,400,function (err,res) {\n    let body = res.body;\n    expect(body.message).to.equal(message.ACCESS_DENIED);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b804af0b-d844-4cdc-b243-26badea9ea13&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to grant access (User is not allowed to access method but route)&quot;,&quot;fullTitle&quot;:&quot;Token Validate Should fail to grant access (User is not allowed to access method but route)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.token.validate(),&#x27;post&#x27;,validateToken.notAllowedToAccessMethodButRoute,401,function (err,res) {\n    let body = res.body;\n    expect(body.message).to.equal(message.ACCESS_DENIED);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0f9c8385-5df3-4467-95ed-935db7bdd5b9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to grant access (User allowed to perform method on object and denied route.)&quot;,&quot;fullTitle&quot;:&quot;Token Validate Should fail to grant access (User allowed to perform method on object and denied route.)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.token.validate(),&#x27;post&#x27;,validateToken.allowedToPerformMethodDeniedRoute,401,function (err,res) {\n    let body = res.body;\n    expect(body.message).to.equal(message.ACCESS_DENIED);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;df18dc01-1acd-4b7a-ac25-3df1cc0063ab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to grant access (User or &#x27;any&#x27; group is denied to perform method on object)&quot;,&quot;fullTitle&quot;:&quot;Token Validate Should fail to grant access (User or &#x27;any&#x27; group is denied to perform method on object)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.token.validate(),&#x27;post&#x27;,validateToken.deniedMethodOnObject,401,function (err,res) {\n    let body = res.body;\n    expect(body.message).to.equal(message.ACCESS_DENIED);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1b90bc70-0411-4013-ae86-be0732252bda&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4b8608a7-27fe-404b-87df-95a72ea5a30d&quot;,&quot;01a3eaa3-fc35-4196-a114-fbd27772d31b&quot;,&quot;cc354552-21c3-4181-9aa3-c4ac3ea006eb&quot;,&quot;3f3dde14-cac1-4375-9005-adedce22c1f1&quot;,&quot;beab2374-6b4d-4935-bada-c851f6c7d519&quot;,&quot;3ae174be-aecf-463b-bd5c-1106fe808af0&quot;,&quot;0d761d6c-bc3d-4fed-a1b6-5eee24f7efa5&quot;,&quot;88c9a3dc-6a41-4003-8d03-f0ea32984be3&quot;,&quot;b804af0b-d844-4cdc-b243-26badea9ea13&quot;,&quot;0f9c8385-5df3-4467-95ed-935db7bdd5b9&quot;,&quot;df18dc01-1acd-4b7a-ac25-3df1cc0063ab&quot;,&quot;1b90bc70-0411-4013-ae86-be0732252bda&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2198,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c6cd971f-7ce8-44ad-8664-54852e4fcccf&quot;,&quot;title&quot;:&quot;Service&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;fcc8401a-b8e0-4736-8704-d5be7f154508&quot;,&quot;title&quot;:&quot;Create&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully create service&quot;,&quot;fullTitle&quot;:&quot;Service Create Should successfully create service&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:28,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.service.create(),&#x27;post&#x27;,dummyData.service.create.success,201,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isService(body, true);\n    dummyData.service.get.success = body;\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;44590188-39b7-43c6-80b6-8fad2d06f38c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to create service (Method and route fields missing)&quot;,&quot;fullTitle&quot;:&quot;Service Create Should fail to create service (Method and route fields missing)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.service.create(),&#x27;post&#x27;,dummyData.service.create.missingFields,400,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body, true);\n    expect(body.errorCode).to.equal(errorCodes.SEC.VALIDATION_ERROR.errorCode);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;48a41267-ca03-4b4c-a3ac-15b2191523c0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to create service (Method is not http method)&quot;,&quot;fullTitle&quot;:&quot;Service Create Should fail to create service (Method is not http method)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.service.create(),&#x27;post&#x27;,dummyData.service.create.missingFields,400,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body, true);\n    expect(body.errorCode).to.equal(errorCodes.SEC.VALIDATION_ERROR.errorCode);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8d65dee4-363b-425e-8733-b02dc2df48db&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;44590188-39b7-43c6-80b6-8fad2d06f38c&quot;,&quot;48a41267-ca03-4b4c-a3ac-15b2191523c0&quot;,&quot;8d65dee4-363b-425e-8733-b02dc2df48db&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:56,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d8a893e0-8b41-4ff6-8624-50a22272d377&quot;,&quot;title&quot;:&quot;Find&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully retrieve service data (public)&quot;,&quot;fullTitle&quot;:&quot;Service Find Should successfully retrieve service data (public)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.service.findByIdPublic(dummyData.service.get.success._id),&#x27;get&#x27;,null,200,function (err, res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    expect(body._id).to.equal(dummyData.service.get.success._id);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b2d28fde-277f-486d-9b27-06e4a57c1986&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should successfully retrieve service data (private)&quot;,&quot;fullTitle&quot;:&quot;Service Find Should successfully retrieve service data (private)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.service.findByIdPrivate(dummyData.service.get.success._id),&#x27;get&#x27;,null,200,function (err, res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    expect(body._id).to.equal(dummyData.service.get.success._id);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c89d6319-5975-45f5-83f2-9f0ffcc9ec25&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to retrieve service data ( Id wrong format )&quot;,&quot;fullTitle&quot;:&quot;Service Find Should fail to retrieve service data ( Id wrong format )&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.service.findByIdPublic(dummyData.service.get.wrongIdFormat),&#x27;get&#x27;,null,400,function (err, res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    expect(body.errorCode).to.equal(errorCodes.SEC.VALIDATION_ERROR.errorCode);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;258bca09-03c1-4874-acf0-cca655eab6d8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b2d28fde-277f-486d-9b27-06e4a57c1986&quot;,&quot;c89d6319-5975-45f5-83f2-9f0ffcc9ec25&quot;,&quot;258bca09-03c1-4874-acf0-cca655eab6d8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:36,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f01dd1ae-f70d-4c70-becc-629db5f97826&quot;,&quot;title&quot;:&quot;Find paginated&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully retrieve service paginated data&quot;,&quot;fullTitle&quot;:&quot;Service Find paginated Should successfully retrieve service paginated data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.service.findPaginated(),&#x27;get&#x27;,null,200,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isPaginatedResponse(body); \n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;12b43b28-914a-4250-bb9d-c42784fc8f64&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;12b43b28-914a-4250-bb9d-c42784fc8f64&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:20,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;242e14f0-5f25-47c9-aae8-cb1334f46d1b&quot;,&quot;title&quot;:&quot;Count&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully return a count value&quot;,&quot;fullTitle&quot;:&quot;Service Count Should successfully return a count value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.service.count(),&#x27;get&#x27;,null,200,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    expect(body).to.be.an(&#x27;object&#x27;).that.includes.all.keys(&#x27;count&#x27;);\n    expect(body.count).to.be.a(&#x27;number&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e25fefff-9589-419f-a62f-d14c73e2b187&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e25fefff-9589-419f-a62f-d14c73e2b187&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:15,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;90122a0d-2936-45cb-bce9-04f4878d0817&quot;,&quot;title&quot;:&quot;Update&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Service Update \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.service.create(),&#x27;post&#x27;,dummyData.service.create.success,201,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isService(body, true);\n    serviceData = body;\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;535ba098-7e9c-4edc-8845-99672177e636&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Service Update \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${serviceData._id}`;\nsendRequest(url.service.remove(query),&#x27;del&#x27;,null,200,function (err, res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isRemoveResponse(body);\n    expect(body.n).to.be.at.least(1);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;046d87af-5ca3-4a0a-8a88-574b965b032b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully update service data&quot;,&quot;fullTitle&quot;:&quot;Service Update Should successfully update service data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${dummyData.service.get.success._id}`;\nsendRequest(url.service.update(query),&#x27;put&#x27;,dummyData.service.update.success,200,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isUpdateResponse(body); \n    expect(body.nModified).to.be.at.least(1); \n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;145cc31c-19ed-4659-8082-651ba4143fd5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to update data. (Query not provided)&quot;,&quot;fullTitle&quot;:&quot;Service Update Should fail to update data. (Query not provided)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = ``;\nsendRequest(url.service.update(query),&#x27;put&#x27;,dummyData.service.update.success,400,function (err,res) {\n    let body = res.body;\n    isErrorResponse(body);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3506be38-a62c-4cde-a755-226052852535&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to update service data (Invalid update data)&quot;,&quot;fullTitle&quot;:&quot;Service Update Should fail to update service data (Invalid update data)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${dummyData.service.get.success._id}`;\nsendRequest(url.service.update(query),&#x27;put&#x27;,dummyData.service.update.invalidData,400,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    expect(body.errorCode).to.equal(errorCodes.SEC.IMPROPER_DATA.errorCode);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;36c507dd-a78e-4f21-862c-1a03f2e07259&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should successfully push items to target&quot;,&quot;fullTitle&quot;:&quot;Service Update Should successfully push items to target&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${serviceData._id}&amp;target=${update.success.target}&amp;operation=push`;\nsendRequest(url.service.update(query),&#x27;put&#x27;,update.success.data,200,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isService(body);\n    expect(body.routes).excluding(&#x27;_id&#x27;).to.include(... update.success.data);\n    done();\n});&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: [object Object]: expected [ Array(5) ] to include { method: &#x27;POST&#x27;,\n  route: &#x27;http://test/sample&#x27;,\n  group: &#x27;Company&#x27;,\n  name: &#x27;Create company&#x27;,\n  description: &#x27;Create company data.&#x27; }&quot;,&quot;estack&quot;:&quot;AssertionError: [object Object]: expected [ Array(5) ] to include { method: &#x27;POST&#x27;,\n  route: &#x27;http://test/sample&#x27;,\n  group: &#x27;Company&#x27;,\n  name: &#x27;Create company&#x27;,\n  description: &#x27;Create company data.&#x27; }\n    at Test.&lt;anonymous&gt; (test/test.js:878:65)\n    at Test.assert (node_modules/supertest/lib/test.js:181:6)\n    at Server.localAssert (node_modules/supertest/lib/test.js:131:12)\n    at emitCloseNT (net.js:1619:8)\n    at process._tickCallback (internal/process/next_tick.js:63:19)&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e97044ac-f835-4a74-8889-b6534d759f86&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to push items (Items already exist)&quot;,&quot;fullTitle&quot;:&quot;Service Update Should fail to push items (Items already exist)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${serviceData._id}&amp;target=${update.success.target}&amp;operation=push`;\nsendRequest(url.service.update(query),&#x27;put&#x27;,update.success.data,200,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isService(body);\n    expect(body.routes).excluding(&#x27;_id&#x27;).to.include(...update.success.data);\n    let responseArray = body.routes;\n    helper.removeChildFromParent(responseArray, update.success.data);\n    expect(responseArray).to.not.include(...update.success.data);\n    done();\n});&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: [object Object]: expected [ Array(7) ] to include { method: &#x27;POST&#x27;,\n  route: &#x27;http://test/sample&#x27;,\n  group: &#x27;Company&#x27;,\n  name: &#x27;Create company&#x27;,\n  description: &#x27;Create company data.&#x27; }&quot;,&quot;estack&quot;:&quot;AssertionError: [object Object]: expected [ Array(7) ] to include { method: &#x27;POST&#x27;,\n  route: &#x27;http://test/sample&#x27;,\n  group: &#x27;Company&#x27;,\n  name: &#x27;Create company&#x27;,\n  description: &#x27;Create company data.&#x27; }\n    at Test.&lt;anonymous&gt; (test/test.js:889:65)\n    at Test.assert (node_modules/supertest/lib/test.js:181:6)\n    at Server.localAssert (node_modules/supertest/lib/test.js:131:12)\n    at emitCloseNT (net.js:1619:8)\n    at process._tickCallback (internal/process/next_tick.js:63:19)&quot;},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d48d7ced-17ff-4ae8-b1f4-70fc604d4cf1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should successfully pull items from target&quot;,&quot;fullTitle&quot;:&quot;Service Update Should successfully pull items from target&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${serviceData._id}&amp;target=${update.success.target}&amp;operation=pull`;\nsendRequest(url.service.update(query),&#x27;put&#x27;,update.success.data,200,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isService(body);\n    expect(body.routes).to.not.include(...update.success.data);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b4cbc94e-4a50-413f-9757-f16d8de9219c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to pull items (Items don&#x27;t exist)&quot;,&quot;fullTitle&quot;:&quot;Service Update Should fail to pull items (Items don&#x27;t exist)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${serviceData._id}&amp;target=${update.success.target}&amp;operation=pull`;\nsendRequest(url.service.update(query),&#x27;put&#x27;,update.success.data,200,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isService(body);\n    expect(body.routes).to.not.include(...update.success.data);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;65691b01-eeee-4bc1-bd6b-ec1d00ab7aae&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to push items (Target object not found)&quot;,&quot;fullTitle&quot;:&quot;Service Update Should fail to push items (Target object not found)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${serviceData._id}&amp;target=notFound&amp;operation=push`;\nsendRequest(url.service.update(query),&#x27;put&#x27;,update.success.data,400,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    expect(body.errorCode).to.equal(errorCodes.SEC.NO_DATA_FOUND.errorCode);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a0a6b302-417c-473b-89ed-b868ff3422db&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to pull items (Target object not found)&quot;,&quot;fullTitle&quot;:&quot;Service Update Should fail to pull items (Target object not found)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${serviceData._id}&amp;target=notFound&amp;operation=pull`;\nsendRequest(url.service.update(query),&#x27;put&#x27;,update.success.data,400,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;fb845339-1465-4e6a-a04e-f99fc3d1aa14&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to perform operation on target (Body is not an array)&quot;,&quot;fullTitle&quot;:&quot;Service Update Should fail to perform operation on target (Body is not an array)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${serviceData._id}&amp;target=${update.success.target}&amp;operation=push`;\nsendRequest(url.service.update(query),&#x27;put&#x27;,update.invalid.data,400,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    expect(body.errorCode).to.equal(errorCodes.SEC.VALIDATION_ERROR.errorCode);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;81308a98-1d4f-4b05-a733-26813221e344&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;145cc31c-19ed-4659-8082-651ba4143fd5&quot;,&quot;3506be38-a62c-4cde-a755-226052852535&quot;,&quot;36c507dd-a78e-4f21-862c-1a03f2e07259&quot;,&quot;b4cbc94e-4a50-413f-9757-f16d8de9219c&quot;,&quot;65691b01-eeee-4bc1-bd6b-ec1d00ab7aae&quot;,&quot;a0a6b302-417c-473b-89ed-b868ff3422db&quot;,&quot;fb845339-1465-4e6a-a04e-f99fc3d1aa14&quot;,&quot;81308a98-1d4f-4b05-a733-26813221e344&quot;],&quot;failures&quot;:[&quot;e97044ac-f835-4a74-8889-b6534d759f86&quot;,&quot;d48d7ced-17ff-4ae8-b1f4-70fc604d4cf1&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:62,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;5ccc2886-68d6-4b32-925e-493c8520e021&quot;,&quot;title&quot;:&quot;Remove&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully remove service data&quot;,&quot;fullTitle&quot;:&quot;Service Remove Should successfully remove service data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${dummyData.service.get.success._id}`;\nsendRequest(url.service.remove(query),&#x27;del&#x27;,null,200,function (err, res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isRemoveResponse(body); \n    expect(body.n).to.be.at.least(1); \n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0909162d-828d-4c97-8777-c09f0fc250df&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to remove service data. (Query not provided)&quot;,&quot;fullTitle&quot;:&quot;Service Remove Should fail to remove service data. (Query not provided)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = ``;\nsendRequest(url.service.remove(query),&#x27;del&#x27;,null,400,function (err, res) {\n    let body = res.body;\n    isErrorResponse(body);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4ed2ecb8-2c04-4fd5-9ff6-9281b649f0c6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0909162d-828d-4c97-8777-c09f0fc250df&quot;,&quot;4ed2ecb8-2c04-4fd5-9ff6-9281b649f0c6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;48349724-4792-4255-a61d-ad5b2203fd42&quot;,&quot;title&quot;:&quot;User&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;41df4cb3-1465-4c96-a3b8-6eb11ffb8625&quot;,&quot;title&quot;:&quot;Create&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully create user&quot;,&quot;fullTitle&quot;:&quot;User Create Should successfully create user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.user.create(),&#x27;post&#x27;,dummyData.user.create.success,201,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isUser(body, true);\n    dummyData.user.get.success = body;\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;33fefc58-a2e6-4ad7-9ad2-fad0943adcd9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to create user (Required field missing)&quot;,&quot;fullTitle&quot;:&quot;User Create Should fail to create user (Required field missing)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.user.create(),&#x27;post&#x27;,dummyData.user.create.validationError,400,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    expect(body.errorCode).to.equal(errorCodes.SEC.VALIDATION_ERROR.errorCode);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c1b675a6-efef-42f4-8e87-0d430866de02&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;33fefc58-a2e6-4ad7-9ad2-fad0943adcd9&quot;,&quot;c1b675a6-efef-42f4-8e87-0d430866de02&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:15,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8022cc00-e8e2-4d85-bbd5-e657cf14cdaf&quot;,&quot;title&quot;:&quot;Find&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully retrieve user data (public)&quot;,&quot;fullTitle&quot;:&quot;User Find Should successfully retrieve user data (public)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.user.findByIdPublic(dummyData.user.get.success._id),&#x27;get&#x27;,null,200,function (err, res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    expect(body._id).to.equal(dummyData.user.get.success._id);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e0fd2b86-5db4-413a-851d-cc7e72af3dcb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should successfully retrieve user data (private)&quot;,&quot;fullTitle&quot;:&quot;User Find Should successfully retrieve user data (private)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.user.findByIdPrivate(dummyData.user.get.success._id),&#x27;get&#x27;,null,200,function (err, res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    expect(body._id).to.equal(dummyData.user.get.success._id);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;505fe897-a895-4ca8-a240-20c345a338c0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to retrieve user data ( Id wrong format )&quot;,&quot;fullTitle&quot;:&quot;User Find Should fail to retrieve user data ( Id wrong format )&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.user.findByIdPublic(dummyData.user.get.wrongIdFormat),&#x27;get&#x27;,null,400,function (err, res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    expect(body.errorCode).to.equal(errorCodes.SEC.VALIDATION_ERROR.errorCode);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d3a979b7-3857-4b7a-b436-e756e38757b9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e0fd2b86-5db4-413a-851d-cc7e72af3dcb&quot;,&quot;505fe897-a895-4ca8-a240-20c345a338c0&quot;,&quot;d3a979b7-3857-4b7a-b436-e756e38757b9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;861cef67-24ba-4253-93fd-fea89871b911&quot;,&quot;title&quot;:&quot;Find paginated&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully retrieve user paginated data&quot;,&quot;fullTitle&quot;:&quot;User Find paginated Should successfully retrieve user paginated data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.user.findPaginated(),&#x27;get&#x27;,null,200,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isPaginatedResponse(body); \n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;09978b70-d6c4-4ba5-b0a5-de59c48b6d68&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;09978b70-d6c4-4ba5-b0a5-de59c48b6d68&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e542a2b8-6f5c-45f9-9c9a-74d0bbbde970&quot;,&quot;title&quot;:&quot;Count&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully return a count value&quot;,&quot;fullTitle&quot;:&quot;User Count Should successfully return a count value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.user.count(),&#x27;get&#x27;,null,200,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    expect(body).to.be.an(&#x27;object&#x27;).that.includes.all.keys(&#x27;count&#x27;);\n    expect(body.count).to.be.a(&#x27;number&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;26e900b9-0bf7-4cd3-a758-c86743d97838&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;26e900b9-0bf7-4cd3-a758-c86743d97838&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;7c5eafd9-e54c-4309-a6d2-3d76fb1dbe38&quot;,&quot;title&quot;:&quot;Update&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully update user data&quot;,&quot;fullTitle&quot;:&quot;User Update Should successfully update user data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${dummyData.user.get.success._id}`;\nsendRequest(url.user.update(query),&#x27;put&#x27;,dummyData.user.update.success,200,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isUpdateResponse(body); \n    expect(body.ok).to.be.at.least(1);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;fa7c4bf0-6f8c-4077-8b3f-0dcc15623a58&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to update data. (Query not provided)&quot;,&quot;fullTitle&quot;:&quot;User Update Should fail to update data. (Query not provided)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = ``;\nsendRequest(url.user.update(query),&#x27;put&#x27;,dummyData.user.update.success,400,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a6eda149-2e11-4dd4-a273-7ef98b231ac5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to update user data (Invalid update data)&quot;,&quot;fullTitle&quot;:&quot;User Update Should fail to update user data (Invalid update data)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${dummyData.user.get.success._id}`;\nsendRequest(url.user.update(query),&#x27;put&#x27;,dummyData.user.update.invalidData,400,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    expect(body.errorCode).to.equal(errorCodes.SEC.IMPROPER_DATA.errorCode);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;be63cf36-272a-491a-b880-919661b52906&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fa7c4bf0-6f8c-4077-8b3f-0dcc15623a58&quot;,&quot;a6eda149-2e11-4dd4-a273-7ef98b231ac5&quot;,&quot;be63cf36-272a-491a-b880-919661b52906&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:19,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;421513c5-dd06-4fe8-a5a8-f01f1bf48737&quot;,&quot;title&quot;:&quot;Remove&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully remove user data&quot;,&quot;fullTitle&quot;:&quot;User Remove Should successfully remove user data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${dummyData.user.get.success._id}`;\nsendRequest(url.user.remove(query),&#x27;del&#x27;,null,200,function (err, res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isRemoveResponse(body); \n    expect(body.n).to.be.at.least(1); \n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;470a46d4-4dd6-4c98-bd90-e7a03762df02&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to remove user data. (Query not provided)&quot;,&quot;fullTitle&quot;:&quot;User Remove Should fail to remove user data. (Query not provided)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = ``;\nsendRequest(url.user.remove(query),&#x27;del&#x27;,null,400,function (err, res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ee6bca1e-e9a4-4fe8-88d4-3dd0720e041b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;470a46d4-4dd6-4c98-bd90-e7a03762df02&quot;,&quot;ee6bca1e-e9a4-4fe8-88d4-3dd0720e041b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;7f4aa0ee-7ef4-4f91-b5b2-d2b2751b7b18&quot;,&quot;title&quot;:&quot;Role&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;7aa0d287-1a55-44c1-ba66-8693146dc9af&quot;,&quot;title&quot;:&quot;Create&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully create role&quot;,&quot;fullTitle&quot;:&quot;Role Create Should successfully create role&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.role.create(),&#x27;post&#x27;,dummyData.role.create.success,201,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isRole(body, true);\n    dummyData.role.get.success = body;\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;9600bf1c-62c7-4de8-aa1c-f396c0ffe16d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to create role (Required field missing)&quot;,&quot;fullTitle&quot;:&quot;Role Create Should fail to create role (Required field missing)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.role.create(),&#x27;post&#x27;,dummyData.role.create.missingRequiredFields,400,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;5e0009dc-2b81-427f-b847-1cea933ec494&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to create route (Unknown Http method)&quot;,&quot;fullTitle&quot;:&quot;Role Create Should fail to create route (Unknown Http method)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.role.create(),&#x27;post&#x27;,dummyData.role.create.invalidMethod,400,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body, true);\n    expect(body.errorCode).to.equal(errorCodes.SEC.VALIDATION_ERROR.errorCode);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;2c78ce6f-a4c2-41da-847a-9a882c7f682a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9600bf1c-62c7-4de8-aa1c-f396c0ffe16d&quot;,&quot;5e0009dc-2b81-427f-b847-1cea933ec494&quot;,&quot;2c78ce6f-a4c2-41da-847a-9a882c7f682a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:32,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;75d3f7f7-d09c-4342-8a3e-791a87797935&quot;,&quot;title&quot;:&quot;Find&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully retrieve role data (public)&quot;,&quot;fullTitle&quot;:&quot;Role Find Should successfully retrieve role data (public)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.role.findByIdPublic(dummyData.role.get.success._id),&#x27;get&#x27;,null,200,function (err, res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    expect(body._id).to.equal(dummyData.role.get.success._id);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b6c029fb-b323-4e52-8617-d9edcecf8df6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should successfully retrieve role data (private)&quot;,&quot;fullTitle&quot;:&quot;Role Find Should successfully retrieve role data (private)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.role.findByIdPrivate(dummyData.role.get.success._id),&#x27;get&#x27;,null,200,function (err, res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    expect(body._id).to.equal(dummyData.role.get.success._id);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;5fc884e5-6570-4907-8520-ccdf0ec8797d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to retrieve role data ( Id wrong format )&quot;,&quot;fullTitle&quot;:&quot;Role Find Should fail to retrieve role data ( Id wrong format )&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.role.findByIdPublic(dummyData.role.get.wrongIdFormat),&#x27;get&#x27;,null,400,function (err, res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    expect(body.errorCode).to.equal(errorCodes.SEC.VALIDATION_ERROR.errorCode);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;111ad1da-fe1c-4608-abd8-7b62e649d4ac&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b6c029fb-b323-4e52-8617-d9edcecf8df6&quot;,&quot;5fc884e5-6570-4907-8520-ccdf0ec8797d&quot;,&quot;111ad1da-fe1c-4608-abd8-7b62e649d4ac&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:20,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;899b1c5e-0136-45c1-b7ab-d9dfc12122a1&quot;,&quot;title&quot;:&quot;Find paginated&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully retrieve role paginated data&quot;,&quot;fullTitle&quot;:&quot;Role Find paginated Should successfully retrieve role paginated data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.role.findPaginated(),&#x27;get&#x27;,null,200,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isPaginatedResponse(body); \n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;00136618-55a9-4639-a395-4c932a06a0d5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;00136618-55a9-4639-a395-4c932a06a0d5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;75f63f30-9926-4a0d-bcdd-991375ea3a10&quot;,&quot;title&quot;:&quot;Count&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully return a count value&quot;,&quot;fullTitle&quot;:&quot;Role Count Should successfully return a count value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.role.count(),&#x27;get&#x27;,null,200,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    expect(body).to.be.an(&#x27;object&#x27;).that.includes.all.keys(&#x27;count&#x27;);\n    expect(body.count).to.be.a(&#x27;number&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;cae3a062-d381-4b60-97c1-d1968076b70d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cae3a062-d381-4b60-97c1-d1968076b70d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;9d2b4523-3317-43df-a586-86fc8256761e&quot;,&quot;title&quot;:&quot;Update&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Role Update \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.role.create(),&#x27;post&#x27;,dummyData.role.create.success,201,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isRole(body, true);\n    roleData = body;\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;929c3c85-6d25-4ffb-bc5d-aa4dcb771b8a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Role Update \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${roleData._id}`;\nsendRequest(url.role.remove(query),&#x27;del&#x27;,null,200,function (err, res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isRemoveResponse(body);\n    expect(body.n).to.be.at.least(1);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c1c392dc-d82b-43ec-b06e-0ca13169d838&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully update role data&quot;,&quot;fullTitle&quot;:&quot;Role Update Should successfully update role data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${dummyData.role.get.success._id}`;\nsendRequest(url.role.update(query),&#x27;put&#x27;,dummyData.role.update.success,200,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isUpdateResponse(body); \n    expect(body.nModified).to.be.at.least(1); \n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c27934a3-8fb3-44fb-b52f-f9159dea9478&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to update role data (Query not provided)&quot;,&quot;fullTitle&quot;:&quot;Role Update Should fail to update role data (Query not provided)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = ``;\nsendRequest(url.role.update(query),&#x27;put&#x27;,dummyData.role.update.success,400,function (err,res) {\n    let body = res.body;\n    isErrorResponse(body);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b0a56587-816a-4fa2-8e80-3e27affc4cc8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to update role data (Invalid update data)&quot;,&quot;fullTitle&quot;:&quot;Role Update Should fail to update role data (Invalid update data)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${dummyData.role.get.success._id}`;\nsendRequest(url.role.update(query),&#x27;put&#x27;,dummyData.role.update.invalidData,400,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    expect(body.errorCode).to.equal(errorCodes.SEC.IMPROPER_DATA.errorCode);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;52e084b8-c1ec-49a3-9c33-d93de99460c5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should successfully push items to target&quot;,&quot;fullTitle&quot;:&quot;Role Update Should successfully push items to target&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${roleData._id}&amp;target=${update.success.target}&amp;operation=push`;\nsendRequest(url.role.update(query),&#x27;put&#x27;,update.success.data,200,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isRole(body);\n    (function () {\n        body.accessRoutes.forEach(function (accessRoute) {\n            delete accessRoute._id;\n        })\n    })();\n    expect(body.accessRoutes).to.include(...update.success.data);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;5f6ed1bb-9862-4ef0-aba9-ad72d0db11cb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to push items (Items already exist)&quot;,&quot;fullTitle&quot;:&quot;Role Update Should fail to push items (Items already exist)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${roleData._id}&amp;target=${update.success.target}&amp;operation=push`;\nsendRequest(url.role.update(query),&#x27;put&#x27;,update.success.data,200,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isRole(body);\n    (function () {\n        body.accessRoutes.forEach(function (accessRoute) {\n            delete accessRoute._id;\n        })\n    })();\n    expect(body.accessRoutes).to.include(...update.success.data);\n    let responseArray = body.accessRoutes;\n    helper.removeChildFromParent(responseArray, update.success.data);\n    expect(responseArray).to.not.include(...update.success.data);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e939eea1-9e87-4617-bf4b-2a09e36dbb8e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should successfully pull items from target&quot;,&quot;fullTitle&quot;:&quot;Role Update Should successfully pull items from target&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${roleData._id}&amp;target=${update.success.target}&amp;operation=pull`;\nsendRequest(url.role.update(query),&#x27;put&#x27;,update.success.data,200,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isRole(body);\n    expect(body.accessRoutes).to.not.include(...update.success.data);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;876746c4-3489-4361-99cb-44ac367ae867&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to pull items (Items don&#x27;t exist)&quot;,&quot;fullTitle&quot;:&quot;Role Update Should fail to pull items (Items don&#x27;t exist)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${roleData._id}&amp;target=${update.success.target}&amp;operation=pull`;\nsendRequest(url.role.update(query),&#x27;put&#x27;,update.success.data,200,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isRole(body);\n    expect(body.accessRoutes).to.not.include(...update.success.data);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;fd2e6e36-1420-44f0-a1dd-00379503ab02&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to push items (Target object not found)&quot;,&quot;fullTitle&quot;:&quot;Role Update Should fail to push items (Target object not found)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${roleData._id}&amp;target=notFound&amp;operation=push`;\nsendRequest(url.role.update(query),&#x27;put&#x27;,update.success.data,400,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    expect(body.errorCode).to.equal(errorCodes.SEC.NO_DATA_FOUND.errorCode);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a8c99d0d-bfcf-4438-8e87-05a011e89a0f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to pull items (Target object not found)&quot;,&quot;fullTitle&quot;:&quot;Role Update Should fail to pull items (Target object not found)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${roleData._id}&amp;target=notFound&amp;operation=pull`;\nsendRequest(url.role.update(query),&#x27;put&#x27;,update.success.data,400,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;20dde536-b843-4190-86a8-aed4a255d96f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to perform operation on target (Body is not an array)&quot;,&quot;fullTitle&quot;:&quot;Role Update Should fail to perform operation on target (Body is not an array)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${roleData._id}&amp;target=${update.success.target}&amp;operation=push`;\nsendRequest(url.role.update(query),&#x27;put&#x27;,update.invalid.data,400,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    expect(body.errorCode).to.equal(errorCodes.SEC.VALIDATION_ERROR.errorCode);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;30660754-c1db-457d-9e1a-b1ede53d8cad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c27934a3-8fb3-44fb-b52f-f9159dea9478&quot;,&quot;b0a56587-816a-4fa2-8e80-3e27affc4cc8&quot;,&quot;52e084b8-c1ec-49a3-9c33-d93de99460c5&quot;,&quot;5f6ed1bb-9862-4ef0-aba9-ad72d0db11cb&quot;,&quot;e939eea1-9e87-4617-bf4b-2a09e36dbb8e&quot;,&quot;876746c4-3489-4361-99cb-44ac367ae867&quot;,&quot;fd2e6e36-1420-44f0-a1dd-00379503ab02&quot;,&quot;a8c99d0d-bfcf-4438-8e87-05a011e89a0f&quot;,&quot;20dde536-b843-4190-86a8-aed4a255d96f&quot;,&quot;30660754-c1db-457d-9e1a-b1ede53d8cad&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:78,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:15000},{&quot;uuid&quot;:&quot;e4198fd5-146f-4426-890c-ce3270f97825&quot;,&quot;title&quot;:&quot;Remove&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully remove role data&quot;,&quot;fullTitle&quot;:&quot;Role Remove Should successfully remove role data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${dummyData.role.get.success._id}`;\nsendRequest(url.role.remove(query),&#x27;del&#x27;,null,200,function (err, res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isRemoveResponse(body); \n    expect(body.n).to.be.at.least(1); \n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;82bd4ec9-729e-4e87-85fe-cfa0f03d3ba9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to remove role data (Query not provided)&quot;,&quot;fullTitle&quot;:&quot;Role Remove Should fail to remove role data (Query not provided)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = ``;\nsendRequest(url.role.remove(query),&#x27;del&#x27;,null,400,function (err, res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;294d2c8b-5cf0-484f-b017-9b9a87e69912&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;82bd4ec9-729e-4e87-85fe-cfa0f03d3ba9&quot;,&quot;294d2c8b-5cf0-484f-b017-9b9a87e69912&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f555c400-0dcb-4b7b-8fa9-c0efa03c66a3&quot;,&quot;title&quot;:&quot;Acm&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;0d0b9661-e0d4-49ae-8008-634bc5491dce&quot;,&quot;title&quot;:&quot;Create&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully create acm&quot;,&quot;fullTitle&quot;:&quot;Acm Create Should successfully create acm&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.acm.create(),&#x27;post&#x27;,dummyData.acm.create.success,201,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isAcm(body, true);\n    dummyData.acm.get.success = body;\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;01979dc6-051e-4197-aed7-2f0a4fb5e1ad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should successfully create acm (By Object)&quot;,&quot;fullTitle&quot;:&quot;Acm Create Should successfully create acm (By Object)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.acm.create(\&quot;object\&quot;),&#x27;post&#x27;,dummyData.acm.create.successByObject,201,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isAcm(body, true, \&quot;object\&quot;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3064dea2-9546-41d8-86d9-ff22b8033eb3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to create acm (Required field missing)&quot;,&quot;fullTitle&quot;:&quot;Acm Create Should fail to create acm (Required field missing)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.acm.create(),&#x27;post&#x27;,dummyData.acm.create.missingFields,400,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    expect(body.errorCode).to.equal(errorCodes.SEC.VALIDATION_ERROR.errorCode);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b40b82f0-6b54-4b7e-9b11-d6f7b74ff333&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to create acm (Required field missing, By Object)&quot;,&quot;fullTitle&quot;:&quot;Acm Create Should fail to create acm (Required field missing, By Object)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.acm.create(\&quot;object\&quot;),&#x27;post&#x27;,dummyData.acm.create.missingFields,400,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    expect(body.errorCode).to.equal(errorCodes.SEC.VALIDATION_ERROR.errorCode);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;59451b5d-bef7-4710-a0da-ef68a263153a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;01979dc6-051e-4197-aed7-2f0a4fb5e1ad&quot;,&quot;3064dea2-9546-41d8-86d9-ff22b8033eb3&quot;,&quot;b40b82f0-6b54-4b7e-9b11-d6f7b74ff333&quot;,&quot;59451b5d-bef7-4710-a0da-ef68a263153a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:44,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;c398578c-05a1-4bd2-bc12-a3fec1c1c684&quot;,&quot;title&quot;:&quot;Find&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully retrieve acm data (public)&quot;,&quot;fullTitle&quot;:&quot;Acm Find Should successfully retrieve acm data (public)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.acm.findByIdPublic(dummyData.acm.get.success._id),&#x27;get&#x27;,null,200,function (err, res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    expect(body._id).to.equal(dummyData.acm.get.success._id);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;edbdea47-33b2-494a-91ba-8bac8cd60714&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should successfully retrieve acm data (private)&quot;,&quot;fullTitle&quot;:&quot;Acm Find Should successfully retrieve acm data (private)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.acm.findByIdPrivate(dummyData.acm.get.success._id),&#x27;get&#x27;,null,200,function (err, res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    expect(body._id).to.equal(dummyData.acm.get.success._id);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;9d20c9a5-355a-49d9-8712-d641f823454b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to retrieve acm data ( Id wrong format )&quot;,&quot;fullTitle&quot;:&quot;Acm Find Should fail to retrieve acm data ( Id wrong format )&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.acm.findByIdPublic(dummyData.acm.get.wrongIdFormat),&#x27;get&#x27;,null,400,function (err, res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    expect(body.errorCode).to.equal(errorCodes.SEC.VALIDATION_ERROR.errorCode);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b90bcec7-d428-4cf7-be46-7df5c1596c4d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;edbdea47-33b2-494a-91ba-8bac8cd60714&quot;,&quot;9d20c9a5-355a-49d9-8712-d641f823454b&quot;,&quot;b90bcec7-d428-4cf7-be46-7df5c1596c4d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:32,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1e281a54-5a33-4cdb-b4c8-1117b7cd8340&quot;,&quot;title&quot;:&quot;Find paginated&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully retrieve acm paginated data&quot;,&quot;fullTitle&quot;:&quot;Acm Find paginated Should successfully retrieve acm paginated data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.acm.findPaginated(),&#x27;get&#x27;,null,200,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isPaginatedResponse(body); \n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;de6da7f5-5e4c-4258-af8e-dd4bd7a257c1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;de6da7f5-5e4c-4258-af8e-dd4bd7a257c1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f4a56112-5b07-4a18-83f2-ccc42c3556a6&quot;,&quot;title&quot;:&quot;Count&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully return a count value&quot;,&quot;fullTitle&quot;:&quot;Acm Count Should successfully return a count value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.acm.count(),&#x27;get&#x27;,null,200,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    expect(body).to.be.an(&#x27;object&#x27;).that.includes.all.keys(&#x27;count&#x27;);\n    expect(body.count).to.be.a(&#x27;number&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ea3ae2b6-35c8-4654-9038-422e88a88980&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ea3ae2b6-35c8-4654-9038-422e88a88980&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;da606992-da2c-4e0f-92fa-42e2b2db9c36&quot;,&quot;title&quot;:&quot;Update&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Acm Update \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:34,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.acm.create(),&#x27;post&#x27;,dummyData.acm.create.success,201,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isAcm(body, true);\n    acmData = body;\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f21a2e5b-af65-4026-96ac-3e6ad1bdceb9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Acm Update \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${acmData._id}`;\nsendRequest(url.acm.remove(query),&#x27;del&#x27;,null,200,function (err, res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isRemoveResponse(body);\n    expect(body.n).to.be.at.least(1);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;84fff515-c7aa-49b5-99fe-0a02cba94678&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully update acm data&quot;,&quot;fullTitle&quot;:&quot;Acm Update Should successfully update acm data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${dummyData.acm.get.success._id}`;\nsendRequest(url.acm.update(query),&#x27;put&#x27;,dummyData.acm.update.success,200,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isUpdateResponse(body);\n    expect(body.nModified).to.be.at.least(1);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c1fa14d5-94c1-4755-8343-a7590e63498d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to update acm data (Query not provided)&quot;,&quot;fullTitle&quot;:&quot;Acm Update Should fail to update acm data (Query not provided)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = ``;\nsendRequest(url.acm.update(query),&#x27;put&#x27;,dummyData.acm.update.success,400,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;12ab7ebc-b697-497f-aeed-bf340a3f3389&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to update acm data (Invalid update data)&quot;,&quot;fullTitle&quot;:&quot;Acm Update Should fail to update acm data (Invalid update data)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${dummyData.acm.get.success._id}`;\nsendRequest(url.acm.update(query),&#x27;put&#x27;,dummyData.acm.update.invalidData,400,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    expect(body.errorCode).to.equal(errorCodes.SEC.IMPROPER_DATA.errorCode);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7381baa1-3ae7-4b92-b13a-62367f81c3df&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should successfully push items to target&quot;,&quot;fullTitle&quot;:&quot;Acm Update Should successfully push items to target&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${acmData._id}&amp;target=accessControl.read&amp;operation=push`;\nsendRequest(url.acm.update(query),&#x27;put&#x27;,update.success.data,200,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isAcm(body);\n    expect(body.accessControl.read).to.include.members(update.success.data);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;29b0a3ac-1166-4dc3-89d5-2c98d6869718&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to push items (Items already exist)&quot;,&quot;fullTitle&quot;:&quot;Acm Update Should fail to push items (Items already exist)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${acmData._id}&amp;target=accessControl.read&amp;operation=push`;\nsendRequest(url.acm.update(query),&#x27;put&#x27;,update.success.data,200,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isAcm(body);\n    expect(body.accessControl.read).to.include.members(update.success.data);\n    let responseArray = body.accessControl.read;\n    delete responseArray[responseArray.indexOf(update.success.data[0])];\n    delete responseArray[responseArray.indexOf(update.success.data[1])];\n    expect(responseArray).to.not.include.members(update.success.data);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ac1f19e5-fedd-48ee-8647-db55077f705f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should successfully pull items from target&quot;,&quot;fullTitle&quot;:&quot;Acm Update Should successfully pull items from target&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${acmData._id}&amp;target=accessControl.read&amp;operation=pull`;\nsendRequest(url.acm.update(query),&#x27;put&#x27;,update.success.data,200,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isAcm(body);\n    expect(body.accessControl.read).to.not.include.members(update.success.data);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4fac9a1d-6f80-4b28-9972-f5f214d0b478&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to pull items (Items don&#x27;t exist)&quot;,&quot;fullTitle&quot;:&quot;Acm Update Should fail to pull items (Items don&#x27;t exist)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${acmData._id}&amp;target=accessControl.read&amp;operation=pull`;\nsendRequest(url.acm.update(query),&#x27;put&#x27;,update.success.data,200,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isAcm(body);\n    expect(body.accessControl.read).to.not.include.members(update.success.data);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ad14396c-4b43-403d-af76-b05d4b64ac02&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to push items (Target object not found)&quot;,&quot;fullTitle&quot;:&quot;Acm Update Should fail to push items (Target object not found)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${acmData._id}&amp;target=accessControl.notFound&amp;operation=push`;\nsendRequest(url.acm.update(query),&#x27;put&#x27;,update.success.data,400,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    expect(body.errorCode).to.equal(errorCodes.SEC.NO_DATA_FOUND.errorCode);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;80678205-3704-4e6c-9a9b-df6d9f69b7bf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to pull items (Target object not found)&quot;,&quot;fullTitle&quot;:&quot;Acm Update Should fail to pull items (Target object not found)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${acmData._id}&amp;target=accessControl.notFound&amp;operation=pull`;\nsendRequest(url.acm.update(query),&#x27;put&#x27;,update.success.data,400,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;26a3b482-4d24-41cf-8482-10e2aab53c3a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to perform operation on target (Body is not an array)&quot;,&quot;fullTitle&quot;:&quot;Acm Update Should fail to perform operation on target (Body is not an array)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${acmData._id}&amp;target=accessControl.read&amp;operation=push`;\nsendRequest(url.acm.update(query),&#x27;put&#x27;,update.invalid.data,400,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    expect(body.errorCode).to.equal(errorCodes.SEC.VALIDATION_ERROR.errorCode);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;df7755f0-4a4d-4fc0-95dc-d06b665b1e09&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c1fa14d5-94c1-4755-8343-a7590e63498d&quot;,&quot;12ab7ebc-b697-497f-aeed-bf340a3f3389&quot;,&quot;7381baa1-3ae7-4b92-b13a-62367f81c3df&quot;,&quot;29b0a3ac-1166-4dc3-89d5-2c98d6869718&quot;,&quot;ac1f19e5-fedd-48ee-8647-db55077f705f&quot;,&quot;4fac9a1d-6f80-4b28-9972-f5f214d0b478&quot;,&quot;ad14396c-4b43-403d-af76-b05d4b64ac02&quot;,&quot;80678205-3704-4e6c-9a9b-df6d9f69b7bf&quot;,&quot;26a3b482-4d24-41cf-8482-10e2aab53c3a&quot;,&quot;df7755f0-4a4d-4fc0-95dc-d06b665b1e09&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:79,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;87a41a4a-a226-46c5-9910-8fa37bdf3714&quot;,&quot;title&quot;:&quot;Remove&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully remove acm data&quot;,&quot;fullTitle&quot;:&quot;Acm Remove Should successfully remove acm data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${dummyData.acm.get.success._id}`;\nsendRequest(url.acm.remove(query),&#x27;del&#x27;,null,200,function (err, res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isRemoveResponse(body); \n    expect(body.ok).to.be.at.least(1);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f0b7b2dc-ffef-45a2-b16d-bdbaa72b9649&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to remove acm data (Query not provide)&quot;,&quot;fullTitle&quot;:&quot;Acm Remove Should fail to remove acm data (Query not provide)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = ``;\nsendRequest(url.acm.remove(query),&#x27;del&#x27;,null,400,function (err, res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;203ee5e1-7e11-450d-a6aa-8f14b9fcf761&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f0b7b2dc-ffef-45a2-b16d-bdbaa72b9649&quot;,&quot;203ee5e1-7e11-450d-a6aa-8f14b9fcf761&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;5c50df39-b5d7-47cd-acf9-13cc120e1da1&quot;,&quot;title&quot;:&quot;Admin&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;57413037-bb32-41d7-af45-12211da39b11&quot;,&quot;title&quot;:&quot;SignUp&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully signup Admin&quot;,&quot;fullTitle&quot;:&quot;Admin SignUp Should successfully signup Admin&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:68,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.admin.signup(),&#x27;post&#x27;,adminSignUp,201,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isAdmin(body, true);\n    dummyData.admin.get.success = body;\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a12e2a0a-ee30-4bbd-9cd5-475365c8c3ff&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to signup (Validate error)&quot;,&quot;fullTitle&quot;:&quot;Admin SignUp Should fail to signup (Validate error)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.admin.signup(),&#x27;post&#x27;,dummyData.admin.signup.validationError,400,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    expect(body.errorCode).to.equal(errorCodes.SEC.VALIDATION_ERROR.errorCode);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;dad3b98c-8607-4441-acde-50a6bd087631&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to signup (UserName exists)&quot;,&quot;fullTitle&quot;:&quot;Admin SignUp Should fail to signup (UserName exists)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Fails because the exact test have been done before.\nsendRequest(url.admin.signup(),&#x27;post&#x27;,dummyData.admin.signup.success,400,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    expect(body.errorCode).to.equal(errorCodes.AUT.USERNAME_EXISTS.errorCode);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;84b9d57a-d359-45bb-bdea-ec2f87309421&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a12e2a0a-ee30-4bbd-9cd5-475365c8c3ff&quot;,&quot;dad3b98c-8607-4441-acde-50a6bd087631&quot;,&quot;84b9d57a-d359-45bb-bdea-ec2f87309421&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:78,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ef38b779-b06c-448d-b5a5-8e33b8db5e89&quot;,&quot;title&quot;:&quot;Login&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should fail to login (Wrong credential)&quot;,&quot;fullTitle&quot;:&quot;Admin Login Should fail to login (Wrong credential)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.admin.login(),&#x27;post&#x27;,dummyData.admin.signup.wrongCredential,401,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    expect(body.errorCode).to.equal(errorCodes.AUT.UNAUTHORIZED_ACCESS.errorCode);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1d0c6d59-2b2d-4bb9-82f7-2b49882b6bc2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to login (Missing fields)&quot;,&quot;fullTitle&quot;:&quot;Admin Login Should fail to login (Missing fields)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.admin.login(),&#x27;post&#x27;,dummyData.admin.signup.validationError,400,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    expect(body.errorCode).to.equal(errorCodes.SEC.VALIDATION_ERROR.errorCode);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;616dba37-85d3-4705-a3c1-b22e7ef3cbc2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should successfully login Admin&quot;,&quot;fullTitle&quot;:&quot;Admin Login Should successfully login Admin&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:31,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.admin.login(),&#x27;post&#x27;,adminSignUp,201,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    expect(body).to.be.an(&#x27;object&#x27;).that.includes.all.keys(&#x27;token&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d5a6b7e5-1a86-4708-9564-e8f30504e2c7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1d0c6d59-2b2d-4bb9-82f7-2b49882b6bc2&quot;,&quot;616dba37-85d3-4705-a3c1-b22e7ef3cbc2&quot;,&quot;d5a6b7e5-1a86-4708-9564-e8f30504e2c7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:40,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b0c825a2-133f-40ca-941b-5d15bce3cd1f&quot;,&quot;title&quot;:&quot;Count&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully return a count value&quot;,&quot;fullTitle&quot;:&quot;Admin Count Should successfully return a count value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.admin.count(),&#x27;get&#x27;,null,200,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    expect(body).to.be.an(&#x27;object&#x27;).that.includes.all.keys(&#x27;count&#x27;);\n    expect(body.count).to.be.a(&#x27;number&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8c3bb25e-fa5f-424d-909f-cd9e88c2afeb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8c3bb25e-fa5f-424d-909f-cd9e88c2afeb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;aabb5067-dc2b-4c32-b4a6-8794e97ea97e&quot;,&quot;title&quot;:&quot;Find&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully retrieve admin data&quot;,&quot;fullTitle&quot;:&quot;Admin Find Should successfully retrieve admin data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.admin.findByIdPrivate(dummyData.admin.get.success._id),&#x27;get&#x27;,null,200,function (err, res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    expect(body._id).to.equal(dummyData.admin.get.success._id);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;755819bd-f490-4289-a0c1-0203adb4737c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to retrieve admin data ( Id wrong format )&quot;,&quot;fullTitle&quot;:&quot;Admin Find Should fail to retrieve admin data ( Id wrong format )&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.admin.findByIdPrivate(dummyData.admin.get.wrongIdFormat),&#x27;get&#x27;,null,400,function (err, res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    expect(body.errorCode).to.equal(errorCodes.SEC.VALIDATION_ERROR.errorCode);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;9091dddb-7cde-449d-8356-a396e9fd8d9c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;755819bd-f490-4289-a0c1-0203adb4737c&quot;,&quot;9091dddb-7cde-449d-8356-a396e9fd8d9c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:11,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6754ec52-e126-45e6-bf1a-6dbdf6f4bb67&quot;,&quot;title&quot;:&quot;Find Paginated&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully retrieve admin paginated data&quot;,&quot;fullTitle&quot;:&quot;Admin Find Paginated Should successfully retrieve admin paginated data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.admin.findPaginated(),&#x27;get&#x27;,null,200,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isPaginatedResponse(body);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4c3285a0-fc8a-4dfb-bb57-41d9ea912137&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4c3285a0-fc8a-4dfb-bb57-41d9ea912137&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;74cd92a5-f8c3-4e9c-9270-342c199f0300&quot;,&quot;title&quot;:&quot;Update&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully update admin data&quot;,&quot;fullTitle&quot;:&quot;Admin Update Should successfully update admin data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${dummyData.admin.get.success._id}`;\nsendRequest(url.admin.update(query),&#x27;put&#x27;,dummyData.admin.update.success,200,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isUpdateResponse(body);\n    expect(body.ok).to.be.at.least(1);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;206326f8-a221-487f-8915-8c87e87348f5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to update data. (Query not provided)&quot;,&quot;fullTitle&quot;:&quot;Admin Update Should fail to update data. (Query not provided)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = ``;\nsendRequest(url.admin.update(query),&#x27;put&#x27;,dummyData.admin.update.success,400,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;04a9a76b-b381-4cf3-badf-58886f9e2398&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to update admin data (Invalid update data)&quot;,&quot;fullTitle&quot;:&quot;Admin Update Should fail to update admin data (Invalid update data)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${dummyData.admin.get.success._id}`;\nsendRequest(url.admin.update(query),&#x27;put&#x27;,dummyData.admin.update.invalidData,400,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    expect(body.errorCode).to.equal(errorCodes.SEC.IMPROPER_DATA.errorCode);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;53e58f6d-103e-4cc7-bdaf-158704d9d046&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;206326f8-a221-487f-8915-8c87e87348f5&quot;,&quot;04a9a76b-b381-4cf3-badf-58886f9e2398&quot;,&quot;53e58f6d-103e-4cc7-bdaf-158704d9d046&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:17,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;23f4982f-f737-483a-bf16-a0d930e2741a&quot;,&quot;title&quot;:&quot;Remove&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully remove admin data&quot;,&quot;fullTitle&quot;:&quot;Admin Remove Should successfully remove admin data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `_id=${dummyData.admin.get.success._id}`;\nsendRequest(url.admin.remove(query),&#x27;del&#x27;,null,200,function (err, res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isRemoveResponse(body);\n    expect(body.n).to.be.at.least(1);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;697bb4b2-5c88-4b33-9cbc-37ebd8d8d4ee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to remove admin data. (Query not provided)&quot;,&quot;fullTitle&quot;:&quot;Admin Remove Should fail to remove admin data. (Query not provided)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = ``;\nsendRequest(url.admin.remove(query),&#x27;del&#x27;,null,400,function (err, res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ed5cd961-c728-4caa-b549-1ba8d0777e0b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;697bb4b2-5c88-4b33-9cbc-37ebd8d8d4ee&quot;,&quot;ed5cd961-c728-4caa-b549-1ba8d0777e0b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;feb006f7-afd1-4ecf-bc17-eba46cd73be9&quot;,&quot;title&quot;:&quot;Log&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1a005338-2f95-4ede-94d1-b2ed08f462a7&quot;,&quot;title&quot;:&quot;Status&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully retrieve server&#x27;s overall status&quot;,&quot;fullTitle&quot;:&quot;Log Status Should successfully retrieve server&#x27;s overall status&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.log.status(),&#x27;get&#x27;,null,200,function (err, res) {\n    let body = res.body;\n    expect(body).to.be.an(&#x27;object&#x27;).that.has.all.keys([\&quot;memoryUsage\&quot;, \&quot;cpuUsage\&quot;, \&quot;upTime\&quot;]);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;9e6ddefc-e37d-4c9b-8607-f15847223767&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9e6ddefc-e37d-4c9b-8607-f15847223767&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e571b675-9dab-48c4-b641-58e1c263c7ed&quot;,&quot;title&quot;:&quot;Find&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully retrieve log data&quot;,&quot;fullTitle&quot;:&quot;Log Find Should successfully retrieve log data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.log.get(),&#x27;get&#x27;,null,200,function (err, res) {\n    let body = res.body;\n    expect(body).to.be.an(&#x27;object&#x27;).that.has.all.keys([\&quot;info\&quot;]);\n    expect(body.info).to.be.an(&#x27;array&#x27;);\n    expect(body.info).length.to.be.at.least(1);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;626d06a8-18ee-4297-92d0-a28a28a770e2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;626d06a8-18ee-4297-92d0-a28a28a770e2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a95ea340-9f8b-4a1a-9e71-1c57b781b45a&quot;,&quot;title&quot;:&quot;Flush&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully flush log data&quot;,&quot;fullTitle&quot;:&quot;Log Flush Should successfully flush log data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.log.flush(),&#x27;del&#x27;,null,200,function (err, res) {\n    let body = res.body;\n    expect(body).to.be.an(&#x27;object&#x27;).that.has.all.keys([\&quot;message\&quot;]);\n    expect(body.message).to.equal(\&quot;Logs flushed\&quot;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e35c1645-fc44-4a6e-8fb8-63ee5627e2cf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e35c1645-fc44-4a6e-8fb8-63ee5627e2cf&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b8018b74-f6a8-4324-a876-acab32baef66&quot;,&quot;title&quot;:&quot;Schema&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;9e598239-fb68-4dbd-bf29-64fb80ca3229&quot;,&quot;title&quot;:&quot;Count&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully return a count value&quot;,&quot;fullTitle&quot;:&quot;Schema Count Should successfully return a count value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.schema.count(),&#x27;get&#x27;,null,200,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    expect(body).to.be.an(&#x27;object&#x27;).that.includes.all.keys(&#x27;count&#x27;);\n    expect(body.count).to.be.a(&#x27;number&#x27;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c68a31ea-65cb-4f72-9ec5-e568438199b5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c68a31ea-65cb-4f72-9ec5-e568438199b5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;79b6d6fb-a386-429f-9919-c5a72d1e756a&quot;,&quot;title&quot;:&quot;Find&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully retrieve user data (public)&quot;,&quot;fullTitle&quot;:&quot;Schema Find Should successfully retrieve user data (public)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `schemaName=${dummyData.acm.create.successByObject.schemaName}`;\nsendRequest(url.schema.findPaginated(query),&#x27;get&#x27;,null,200,function (err, res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isPaginatedResponse(body);\n    let sampleSchema = body.docs[0];\n    isSchema(sampleSchema);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3ffd7bcf-63ca-4507-a267-3ebfba47c598&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3ffd7bcf-63ca-4507-a267-3ebfba47c598&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:10,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c88da9d6-e71b-4ed2-ba72-84901fc9303f&quot;,&quot;title&quot;:&quot;Find Paginated&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully retrieve admin paginated data&quot;,&quot;fullTitle&quot;:&quot;Schema Find Paginated Should successfully retrieve admin paginated data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.schema.findPaginated(),&#x27;get&#x27;,null,200,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isPaginatedResponse(body);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4d29e055-195d-42a2-b393-c762a7502790&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4d29e055-195d-42a2-b393-c762a7502790&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;11141df8-18e5-4b86-8d1e-d5b2db9537c4&quot;,&quot;title&quot;:&quot;Update&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Schema Update \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sendRequest(url.role.create(),&#x27;post&#x27;,dummyData.role.create.success,201,function (err,res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isRole(body, true);\n    roleData = body;\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1001ee3a-12cf-4beb-9e77-889f321dc215&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should fail to update Schema (Schema does not exist)&quot;,&quot;fullTitle&quot;:&quot;Schema Update Should fail to update Schema (Schema does not exist)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let target = \&quot;accessControl.read\&quot;,\n    operation = \&quot;push\&quot;;\nlet query = `schemaName=noneExistent&amp;target=${target}&amp;operation=${operation}`;\nsendRequest(url.schema.update(query),&#x27;put&#x27;,[roleData.name],400,function (err, res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    expect(body.errorCode).to.equal(errorCodes.SEC.NO_DATA_FOUND.errorCode);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7bc66dad-e5e8-4e02-9044-cd7b06aa7cee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to update Schema (Target not defined) &quot;,&quot;fullTitle&quot;:&quot;Schema Update Should fail to update Schema (Target not defined) &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let operation = \&quot;push\&quot;;\nlet query = `schemaName=${dummyData.acm.create.successByObject.schemaName}&amp;operation=${operation}`;\nsendRequest(url.schema.update(query),&#x27;put&#x27;,[roleData.name],400,function (err, res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    expect(body.errorCode).to.equal(errorCodes.SEC.VALIDATION_ERROR.errorCode);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;051fe0ba-06f0-4520-b4fc-94735a00cfd3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should fail to update Schema (Operation not defined)&quot;,&quot;fullTitle&quot;:&quot;Schema Update Should fail to update Schema (Operation not defined)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let operation = \&quot;push\&quot;;\nlet query = `schemaName=${dummyData.acm.create.successByObject.schemaName}&amp;operation=${operation}`;\nsendRequest(url.schema.update(query),&#x27;put&#x27;,[roleData.name],400,function (err, res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isErrorResponse(body);\n    expect(body.errorCode).to.equal(errorCodes.SEC.VALIDATION_ERROR.errorCode);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b8debcfd-6bdd-4977-ba71-110dca9ffbae&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should successfully add a new role to a method&quot;,&quot;fullTitle&quot;:&quot;Schema Update Should successfully add a new role to a method&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let target = \&quot;accessControl.read\&quot;,\n    operation = \&quot;push\&quot;;\nlet query = `schemaName=${dummyData.acm.create.successByObject.schemaName}&amp;target=${target}&amp;operation=${operation}`;\nsendRequest(url.schema.update(query),&#x27;put&#x27;,[roleData.name],200,function (err, res) {\n    console.log(\&quot;Schema push response : \&quot;, JSON.stringify(res.body));\n    let body = res.body;\n    expect(err).to.be.null;\n    isSchema(body, false);\n    expect(body.accessControl.read).to.contain(roleData.name);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f1be61da-0071-41fe-b80a-31ab32ab3810&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should successfully remove a role from a method&quot;,&quot;fullTitle&quot;:&quot;Schema Update Should successfully remove a role from a method&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let target = \&quot;accessControl.read\&quot;,\n    operation = \&quot;pull\&quot;;\nlet query = `schemaName=${dummyData.acm.create.successByObject.schemaName}&amp;target=${target}&amp;operation=${operation}`;\nsendRequest(url.schema.update(query),&#x27;put&#x27;,[roleData.name],200,function (err, res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isSchema(body, false);\n    expect(body.accessControl.read).to.not.contain(roleData.name);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;989e6dc5-22c3-421a-99f9-5b6092faeec1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7bc66dad-e5e8-4e02-9044-cd7b06aa7cee&quot;,&quot;051fe0ba-06f0-4520-b4fc-94735a00cfd3&quot;,&quot;b8debcfd-6bdd-4977-ba71-110dca9ffbae&quot;,&quot;f1be61da-0071-41fe-b80a-31ab32ab3810&quot;,&quot;989e6dc5-22c3-421a-99f9-5b6092faeec1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:66,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1616b54f-32ae-469f-8a7f-ca4772810f32&quot;,&quot;title&quot;:&quot;Remove&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully remove Schema&quot;,&quot;fullTitle&quot;:&quot;Schema Remove Should successfully remove Schema&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let query = `schemaName=${dummyData.acm.create.successByObject.schemaName}`;\nsendRequest(url.schema.remove(query),&#x27;del&#x27;,null,200,function (err, res) {\n    let body = res.body;\n    expect(err).to.be.null;\n    isRemoveResponse(body);\n    expect(body.ok).to.be.at.least(1);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a0d7730d-db8b-404e-ba9a-0e824b4d8c97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a0d7730d-db8b-404e-ba9a-0e824b4d8c97&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;5953e318-c375-46e7-bbcd-030309bed72f&quot;,&quot;title&quot;:&quot;Socket&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;fa945e77-3467-41b9-ac7e-44ab9232de32&quot;,&quot;title&quot;:&quot;Log&quot;,&quot;fullFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/test/test.js&quot;,&quot;file&quot;:&quot;/test/test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should successfully receive streamed request logs.&quot;,&quot;fullTitle&quot;:&quot;Socket Log Should successfully receive streamed request logs.&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1038,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let socketURL = `http://0.0.0.0:${process.env.HTTP_PORT}`;\nlet options = {\n    transports: [&#x27;websocket&#x27;],\n    &#x27;force new connection&#x27;: true\n};\n(()=&gt;{\n    let execRequests = [];\n    for(let i=0; i&lt;1; i++){\n        execRequests.push(function (callback) {\n            setTimeout(function () {\n                let deniedMethodOnObject = {\n                    service     : \&quot;Service A\&quot;,\n                        ip          : \&quot;172.16.1.41\&quot;,\n                        params      : null,\n                        path        : \&quot;http://sample/route\&quot;,\n                        query       : null,\n                        secure      : true,\n                        xhr         : false,\n                        route       : \&quot;http://sample/route\&quot;,\n                        method      : \&quot;PUT\&quot;,\n                        body        : {sampleKey : \&quot;sampleVal\&quot;},\n                        objectId    : \&quot;5cee7a0456f44a4e65b35532\&quot;,\n                        token       : \&quot;wrong_token\&quot;\n                };\n                sendRequest(url.token.validate(),&#x27;post&#x27;,deniedMethodOnObject,200,function () {\n                    callback(null);\n                });\n            },500)\n        })\n    }\n    async.waterfall(execRequests);\n})();\nlet client = socketClient.connect(socketURL, options);\nclient.on(&#x27;logs&#x27;, function(data){\n    if(data){done();}\n});&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;70ea7382-b8e3-4c63-94b5-60d256b2ce96&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;70ea7382-b8e3-4c63-94b5-60d256b2ce96&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1038,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000},&quot;copyrightYear&quot;:2019}" data-config="{&quot;reportFilename&quot;:&quot;index&quot;,&quot;reportDir&quot;:&quot;report&quot;,&quot;reportTitle&quot;:&quot;hisab_authorization_service&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:true,&quot;enableCharts&quot;:true,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;report/assets&quot;,&quot;jsonFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/report/index.json&quot;,&quot;htmlFile&quot;:&quot;/home/nathan/Documents/workspace/hisab/backend/hisab_authorization_service/report/index.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>